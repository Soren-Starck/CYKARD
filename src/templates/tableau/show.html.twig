{% extends '../base.html.twig' %}

{% block title %}{{ titretableau }}{% endblock %}

{% block components %}
    <script type="module">
        import {Columns} from "/js/components/table/columns.js";
        import {loadComponent} from "/js/reactive.js";
        import {NewCardPopup} from "/js/components/popups/new-card-popup.js";
        import {ModifyColumn} from "/js/components/popups/modify-column.js";
        import {ModifyTable} from "/js/components/popups/modify-table.js";
        import {NewColumn} from "/js/components/popups/new-column.js";
        import {EditCard} from "/js/components/popups/edit-card.js";
        import {Navbaruserpanel} from "/js/components/navbaruserpanel.js";

        loadComponent("columns", Columns)
        loadComponent("new-card", NewCardPopup)
        loadComponent("modify-column", ModifyColumn)
        loadComponent("settings", ModifyTable)
        loadComponent("new-column", NewColumn)
        loadComponent("edit-card", EditCard)
        loadComponent("navbaruserpanel", Navbaruserpanel)
    </script>
{% endblock %}

{% block body %}
    <react-settings visible="false" id="settings-popup"
                    title="Modifier le tableau"></react-settings>
    <react-columns login="{{ app.user }}" class="grow" table="{{ idtableau }}"></react-columns>
    <react-new-card visible="false" id="new-card-popup" title="Créer une nouvelle carte"></react-new-card>
    <react-modify-column visible="false" id="modify-column-popup" title="Modifier une colonne"></react-modify-column>
    <react-new-column visible="false" id="new-column-popup" title="Créer une nouvelle colonne"></react-new-column>
    <react-edit-card visible="false" id="edit-card-popup" title="Modifier une carte"></react-edit-card>
{% endblock %}